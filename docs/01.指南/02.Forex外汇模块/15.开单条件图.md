---
title: 开单条件图
permalink: /pages/010215/
article: false
date: 2025-11-11 22:20:01
---

## 功能概述
开单条件检查图表功能用于以可视化方式展示每一项开仓条件在所选时间段内的满足情况（符合/不符合）。  
通过图表，用户可以清晰观察交易日内各条件的变化状态，判断策略为何在某个时间点允许或禁止开仓。

该功能对策略调试、风控验证、自动化开单逻辑检查特别重要。

图表主要展示四类条件的满足情况：
- volumeLimitThreshold  
- stochasticDirection  
- freeMarginThreshold  
- marginLevelThreshold  

每个条件在图中以独立的数据序列显示，值为：
- 1 → 满足条件（✓）
- 0 → 不满足条件（×）

---

## 页面结构说明

### 1. 顶部筛选区域
可进行以下选择：

- **账户选择**  
- **品种选择**（如 EURUSD）  
- **时间范围选择**（开始时间与结束时间）  
- **搜索按钮**：加载条件检查图表数据  

右侧还显示：
- Buy / Sell / Transfer 等图表选项开关  
- 在线状态标识（绿色灯为在线）  

---

## 图表说明

### 1. 条件指标图例说明
图表顶部图例表示不同的开单条件：

- **volumeLimitThreshold**（红色）  
  当前持仓量是否低于允许开仓阈值  
- **stochasticDirection**（深蓝色）  
  随机指标方向是否与预期开仓方向一致  
- **freeMarginThreshold**（浅青色）  
  可用保证金是否高于策略最低要求  
- **marginLevelThreshold**（橘色）  
  保证金比例是否高于最低安全阈值  

每个条件显示为一条折线（通常为 0 和 1 交替）。

---

### 2. 纵轴说明
- Y 轴范围：0 ～ 1  
- 含义：  
  - 1 = 条件满足  
  - 0 = 条件不满足  

图中某些点标注数字，如：
- “1” → 满足  
- “0” → 不满足  

用于标记关键变化点。

---

### 3. 横轴说明
- 时间线（Time Series），根据用户选择的时间范围自动填充  
- 显示每一时间点条件状态变化  
- 可拖动缩略条放大和浏览细节

---

## 图表示例解读

根据截图库示：

- 在开盘初期（00:00~05:00）  
  stochasticDirection 多次触发 1 与 0，说明指标方向频繁变化。  

- volumeLimitThreshold 长时间保持 1  
  → 持仓量限制一直满足，可介入交易  

- marginLevelThreshold 始终保持 1  
  → 账户保证金比例安全  

- freeMarginThreshold 在某些时间段为 0  
  → 可用保证金不足，导致策略无法开仓  

这些图表为调试策略提供关键证据，例如：
“为什么晚上 07:10 无法开仓？”  
通过图表即可看到该时间 freeMarginThreshold = 0。

---

## 使用步骤

### 步骤 1：选择账户  
例如：5239828 DEMO。

### 步骤 2：选择品种与时间范围  
如 EURUSD，2025-11-15 00:00:00—2025-11-15 23:59:59。

### 步骤 3：点击搜索  
系统将加载条件变化折线图。

### 步骤 4：查看条件满足情况  
重点观察：
- 条件变化频率  
- 某些关键时间点是否满足全部条件  
- 哪个条件最常导致策略无法开单  

### 步骤 5：结合开单日志进一步分析  
若策略在某一时刻没有开仓，可对照图表判断原因。

---

## 应用场景

### 场景 1：调试自动化策略
若策略无法触发开单，通过图表可快速定位阻塞条件。

### 场景 2：风险管理验证
观测 freeMarginThreshold / marginLevelThreshold 的变化，可评估账户风险是否稳定。

### 场景 3：优化策略阈值
例如 stochasticDirection 信号过于频繁变化，可考虑调整指标参数。

### 场景 4：回测结果验证
在历史时间段查看条件，使回测结果更具解释性。

---

## 注意事项

- 图表显示的是“条件是否满足”，而非“指标实际数值”  
- 若多个条件都显示 0，则策略不会开仓  
- freeMarginThreshold 与 marginLevelThreshold 与账户资金波动密切相关  
- 条件判断时间精度与系统刷新频率相关  

---



<Vssue :title="$title" />
